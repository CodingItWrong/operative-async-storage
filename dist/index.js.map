{"version":3,"sources":["../src/index.js"],"names":["AsyncStoragePersister","key","Error","data","serializedData","JSON","stringify","console","log","AsyncStorage","setItem","getItem","parse"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;IAEqBA,qB;;;AAGnB,iCAAYC,GAAZ,EAAiB;AAAA;;AAAA;AAAA;AAAA;AAAA;;AACf,QAAI,CAACA,GAAL,EAAU;AACR,YAAM,IAAIC,KAAJ,CAAU,sBAAV,CAAN;AACD;;AAED,sCAAYD,GAAZ;AACD;;;;yBAEIE,I,EAAM;AACT,UAAMC,cAAc,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAvB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CJ,cAA5C;AACA,aAAOK,yBAAaC,OAAb,uBAAqB,IAArB,SAAgCN,cAAhC,CAAP;AACD;;;;;;;;;;;;;uBAG8BK,yBAAaE,OAAb,uBAAqB,IAArB,Q;;;AAAvBP,gBAAAA,c;AACNG,gBAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CJ,cAA5C;;AAEA,oBAAIA,cAAc,IAAI,IAAtB,EAA4B;AAC1BD,kBAAAA,IAAI,GAAG,IAAP;AACD,iBAFD,MAEO;AACLA,kBAAAA,IAAI,GAAGE,IAAI,CAACO,KAAL,CAAWR,cAAX,CAAP;AACD;;iDACMD,I","sourcesContent":["import AsyncStorage from '@react-native-community/async-storage';\n\nexport default class AsyncStoragePersister {\n  #key;\n\n  constructor(key) {\n    if (!key) {\n      throw new Error('key must be provided');\n    }\n\n    this.#key = key;\n  }\n\n  save(data) {\n    const serializedData = JSON.stringify(data);\n    console.log('AsyncStoragePersister.save()', serializedData);\n    return AsyncStorage.setItem(this.#key, serializedData);\n  }\n\n  async load() {\n    const serializedData = await AsyncStorage.getItem(this.#key);\n    console.log('AsyncStoragePersister.load()', serializedData);\n    let data;\n    if (serializedData == null) {\n      data = null;\n    } else {\n      data = JSON.parse(serializedData);\n    }\n    return data;\n  }\n}\n"],"file":"index.js"}